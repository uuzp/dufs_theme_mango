<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mango æ–‡ä»¶ç®¡ç†å™¨</title>
    <link rel="icon" href="__ASSETS_PREFIX__favicon.png" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="__ASSETS_PREFIX__favicon.png">
    
    <!-- iOS Web App é…ç½® -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Mango æ–‡ä»¶ç®¡ç†å™¨">
      <link rel="stylesheet" href="__ASSETS_PREFIX__style.css">
    
    <!-- JSZipåº“ç”¨äºå®¢æˆ·ç«¯ZIPè§£å‹ç¼© -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    
    <style>
        @media only screen and (max-width: 768px) {
            .toolbar {
                flex-direction: column;
                align-items: stretch;
            }
            .search-section {
                width: 100%;
            }
            .tool-buttons {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é¡¶éƒ¨å·¥å…·æ  -->
        <div class="toolbar">
            <!-- å½“å‰è·¯å¾„ -->
            <div class="breadcrumb-section">
                <div class="breadcrumb" id="breadcrumb">
                    <a href="#" onclick="navigateTo('/')">/</a>
                </div>
            </div>            <!-- å·¥å…·æŒ‰é’®ç»„ -->
            <div class="tool-buttons">
                <button class="icon-btn" onclick="refreshFileList()" data-tooltip="åˆ·æ–°æ–‡ä»¶åˆ—è¡¨">
                    ğŸ”„
                </button>
                <button class="icon-btn" onclick="document.getElementById('fileInput').click()" data-tooltip="é€‰æ‹©æ–‡ä»¶ä¸Šä¼ ">
                    ğŸ“
                </button>
                <button class="icon-btn" onclick="createFolder()" data-tooltip="æ–°å»ºæ–‡ä»¶å¤¹">
                    ğŸ“‚
                </button>
                <button class="icon-btn" onclick="createNewTextFile()" data-tooltip="æ–°å»ºæ–‡æœ¬æ–‡ä»¶">
                    ğŸ“
                </button>
                <button class="icon-btn" onclick="downloadAsZip()" data-tooltip="ä¸‹è½½ä¸ºZIP">
                    ğŸ“¦
                </button>
                <button class="icon-btn" id="multiSelectBtn" onclick="toggleMultiSelect()" data-tooltip="å¤šé¡¹é€‰æ‹©">
                    â˜‘ï¸
                </button>
                <button class="icon-btn" onclick="checkHealth()" data-tooltip="ç³»ç»Ÿå¥åº·æ£€æŸ¥">
                    â¤ï¸
                </button>
                <button class="icon-btn" id="loginBtn" onclick="showLoginModal()" data-tooltip="ç”¨æˆ·ç™»å½•">
                    ğŸ‘¤
                </button>
            </div>

            <!-- æœç´¢åŠŸèƒ½ -->
            <div class="search-section">
                <div class="search-input-group">
                    <input type="text" id="searchInput" placeholder="ğŸ” æœç´¢æ–‡ä»¶...">
                    <button class="icon-btn" onclick="searchFiles()" data-tooltip="æœç´¢">
                        â
                    </button>
                </div>
            </div>
        </div>

        <!-- æœç´¢ç»“æœ -->
        <div class="info-panels">
            <div id="searchResults" class="search-results" style="display: none;"></div>
        </div>

        <div class="main-content">
            <!-- ä¸»æ–‡ä»¶åŒºåŸŸ -->
            <div class="file-area">
                <!-- ä¸Šä¼ è¿›åº¦ -->
                <div id="uploadProgress" style="display: none;">
                    <h4>ğŸ“¤ ä¸Šä¼ è¿›åº¦</h4>
                    <div class="progress">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <div id="uploadStatus"></div>
                </div>

                <!-- æ–‡ä»¶åˆ—è¡¨ -->
                <div class="section file-list-section">
                    <h3>ğŸ“‹ æ–‡ä»¶åˆ—è¡¨</h3>
                    <div id="fileList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ‹–æ‹½ä¸Šä¼ è¦†ç›–å±‚ -->
    <div id="dropOverlay" class="drop-overlay" style="display: none;">
        <div class="drop-message">
            <div class="drop-icon">ğŸ“</div>
            <h2>æ‹–æ‹½æ–‡ä»¶åˆ°è¿™é‡Œä¸Šä¼ </h2>
            <p>æ”¯æŒå¤šä¸ªæ–‡ä»¶åŒæ—¶ä¸Šä¼ </p>
        </div>
    </div>    <!-- éšè—çš„æ–‡ä»¶è¾“å…¥ -->
    <input type="file" id="fileInput" multiple style="display: none;">

    <!-- ç™»å½•æ¨¡æ€æ¡† -->
    <div id="loginModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ” ç”¨æˆ·ç™»å½•</h3>
                <button class="close-btn" onclick="closeLoginModal()">âœ•</button>
            </div>            <div class="modal-body">                <div class="input-group">
                    <label for="username">ç”¨æˆ·:</label>
                    <input type="text" id="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" onkeypress="handleLoginKeyPress(event)">
                </div><div class="input-group">
                    <label for="password">å¯†ç :</label>
                    <input type="password" id="password" placeholder="è¯·è¾“å…¥å¯†ç " onkeypress="handleLoginKeyPress(event)">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeLoginModal()">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="login()">ç™»å½•</button>
            </div>
        </div>
    </div>

    <!-- çŠ¶æ€æ¶ˆæ¯ -->
    <div id="statusMessage"></div>

    <!-- å¼•å…¥å¤–éƒ¨JavaScriptæ–‡ä»¶ -->
    <script src="__ASSETS_PREFIX__script.js"></script>
</body>
</html>